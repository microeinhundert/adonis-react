import Application from '@ioc:Adonis/Core/Application'
import { RadonisConfig } from '@ioc:Adonis/Addons/Radonis'
import Env from '@ioc:Adonis/Core/Env'

const radonisConfig: RadonisConfig = {
  /*
  |--------------------------------------------------------------------------
  | Production Mode
  |--------------------------------------------------------------------------
  |
  | Enabling production mode will minify
  | and set the environment accordingly.
  |
  */
  productionMode: Env.get('NODE_ENV') === 'production',

  /*
  |--------------------------------------------------------------------------
  | Components Dir
  |--------------------------------------------------------------------------
  |
  | The directory that contains all the components
  | to be built for hydration on the client.
  |
  */
  componentsDir: Application.resourcesPath('components'),

  /*
  |--------------------------------------------------------------------------
  | Client Bundle Output Dir
  |--------------------------------------------------------------------------
  |
  | The directory the built client bundle
  | should be written to.
  |
  */
  clientBundleOutputDir: Application.publicPath('client'),

  /*
  |--------------------------------------------------------------------------
  | Build Options
  |--------------------------------------------------------------------------
  |
  | Allows overriding the build options used
  | by esbuild for bundling the client.
  |
  | Use with caution: This is only an escape hatch.
  | Overriding the options can break the build.
  |
  */
  buildOptions: {},

  /*
  |--------------------------------------------------------------------------
  | Limit Client Manifest
  |--------------------------------------------------------------------------
  |
  | Limit the client manifest to only include data
  | required for hydration on the client.
  |
  */
  limitClientManifest: true,
}

export default radonisConfig
